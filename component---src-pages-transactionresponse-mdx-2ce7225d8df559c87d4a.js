(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"19Mb":function(e,t,n){"use strict";n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi");var a=n("q1tI"),o=n.n(a),i=(n("pJf4"),n("wx14")),r=n("zLVn"),c=n("TSYQ"),s=n.n(c),l=n("vUet"),u=n("dbZe"),m=o.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.variant,c=e.size,m=e.active,p=e.className,d=e.block,h=e.type,f=e.as,b=Object(r.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),g=Object(l.a)(n,"btn"),y=s()(p,g,m&&"active",g+"-"+a,d&&g+"-block",c&&g+"-"+c);if(b.href)return o.a.createElement(u.a,Object(i.a)({},b,{as:f,ref:t,className:s()(y,b.disabled&&"disabled")}));t&&(b.ref=t),f||(b.type=h);var v=f||"button";return o.a.createElement(v,Object(i.a)({},b,{className:y}))}));m.displayName="Button",m.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"};var p=m,d=function(){},h=o.a.forwardRef((function(e,t){var n=e.children,c=e.name,l=e.className,u=e.checked,m=e.type,h=e.onChange,f=e.value,b=e.disabled,g=e.inputRef,y=Object(r.a)(e,["children","name","className","checked","type","onChange","value","disabled","inputRef"]),v=Object(a.useState)(!1),E=v[0],k=v[1],C=Object(a.useCallback)((function(e){"INPUT"===e.target.tagName&&k(!0)}),[]),T=Object(a.useCallback)((function(e){"INPUT"===e.target.tagName&&k(!1)}),[]);return o.a.createElement(p,Object(i.a)({},y,{ref:t,className:s()(l,E&&"focus",b&&"disabled"),type:null,active:!!u,as:"label"}),o.a.createElement("input",{name:c,type:m,value:f,ref:g,autoComplete:"off",checked:!!u,disabled:!!b,onFocus:C,onBlur:T,onChange:h||d}),n)}));h.displayName="ToggleButton";var f=h,b=(n("OeI1"),n("sc67"),n("QLaP")),g=n.n(b),y=n("JCAc"),v=n("Qg85");n("JHok"),n("AqHK");var E=o.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.size,c=e.toggle,u=e.vertical,m=e.className,p=e.as,d=void 0===p?"div":p,h=Object(r.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),f=Object(l.a)(n,"btn-group"),b=f;return u&&(b=f+"-vertical"),o.a.createElement(d,Object(i.a)({},h,{ref:t,className:s()(m,b,a&&f+"-"+a,c&&f+"-toggle")}))}));E.displayName="ButtonGroup",E.defaultProps={vertical:!1,toggle:!1,role:"group"};var k=E,C=o.a.forwardRef((function(e,t){var n=Object(y.a)(e,{value:"onChange"}),a=n.children,c=n.type,s=n.name,l=n.value,u=n.onChange,m=Object(r.a)(n,["children","type","name","value","onChange"]),p=function(){return null==l?[]:[].concat(l)};return"radio"!==c||s||g()(!1),o.a.createElement(k,Object(i.a)({},m,{ref:t,toggle:!0}),function(e,t){var n=0;return o.a.Children.map(e,(function(e){return o.a.isValidElement(e)?t(e,n++):e}))}(a,(function(e){var t=p(),n=e.props,a=n.value,i=n.onChange;return o.a.cloneElement(e,{type:c,name:e.name||s,checked:-1!==t.indexOf(a),onChange:Object(v.a)(i,(function(e){return function(e,t){var n=p(),a=-1!==n.indexOf(e);"radio"!==c?u(a?n.filter((function(t){return t!==e})):[].concat(n,[e]),t):a||u(e,t)}(a,e)}))})})))}));C.defaultProps={type:"radio"},C.Button=f;var T=C;t.a=function(e){var t=e.onChange,n=e.label,a=e.selected,i=e.all,r=e.options,c=e.type;r||(r={on:"On",off:"Off"});var s=[o.a.createElement(f,{variant:"link",disabled:!0,value:"label"},n,": ")].concat(Object.keys(r).map((function(e){return o.a.createElement(f,{variant:i?"warning":"primary",value:e},r[e])})));return o.a.createElement(T,{name:n,type:c||"radio",value:i?"":a,onChange:t,size:"sm",className:"selector"},s)}},gDrd:function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a);t.a=function(e){var t=e.children.map((function(e,t){return o.a.createElement("li",{key:t},e)}));return o.a.createElement("ul",{className:"selectorList"},t)}},k1ze:function(e,t,n){"use strict";n.r(t);n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("E5k/");var a=n("q1tI"),o=n.n(a),i=n("6qfE"),r=n("Bl7J"),c=n("Wbzz"),s=(n("4DPX"),n("BXTI")),l=n("19Mb"),u=n("gDrd");function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){p(e,t,n[t])}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).codeValues={interaction:{label:"Interaction",type:"checkbox",interaction_url:"https://server.example.com/interact/4CF492MLVMSW9MKMXKHQ",callback_server_nonce:"MBDOFXG4Y5CVJCX821LH",pushback_server_nonce:"Y5CVJCX821LHMBDOFXG4",user_code:{url:"https://server.example.com/interact/device",code:"A1BC-3DFF"},options:{interaction_url:"Redirect",callback_server_nonce:"Callback",pushback_server_nonce:"Pushback",user_code:"Device",omit:"Off"}},access_token:{label:"Access Token",single:{access_token:{value:"OS9M2PMHKUR64TB8N6BW7OZB8CDFONP219RP1LT0",proof:"bearer"}},multiple:{multiple_access_tokens:{token1:{value:"OS9M2PMHKUR64TB8N6BW7OZB8CDFONP219RP1LT0",proof:"bearer"},token2:{value:"UFGLO2FDAFG7VGZZPJ3IZEMN21EVU71FHCARP4J1",proof:"bearer"}}},options:{single:"Single",multiple:"Multiple",off:"Off"}},continue:{label:"Continue",on:{handle:"80UPRY5NM33OMUKMKSKU",uri:"https://server.example.com/continue",wait:60}},handles:{label:"Handles",type:"checkbox",display_handle:"VBUEOIQA82PBY2ZDJW7Q",user_handle:"XUT2MFM1XBIKJKSDU8QM",key_handle:"7C7C4AZ9KHRS6X63AJAO",options:{display_handle:"Display",user_handle:"User",key_handle:"Key (client)"}},capabilities:{label:"Capabilities",on:["ext1","ext2"]},subject:{label:"Subject",on:{"sub-ids":[{subject_type:"email",email:"user@example.com"}],assertions:{"oidc-id-token":"eyJraWQiOiIxZTlnZGs3IiwiYWxnIjoiUlMyNTYifQ.ewogImlzcyI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ4Mjg5NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiAibi0wUzZfV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDEzMTEyODA5NzAsCiAibmFtZSI6ICJKYW5lIERvZSIsCiAiZ2l2ZW5fbmFtZSI6ICJKYW5lIiwKICJmYW1pbHlfbmFtZSI6ICJEb2UiLAogImdlbmRlciI6ICJmZW1hbGUiLAogImJpcnRoZGF0ZSI6ICIwMDAwLTEwLTMxIiwKICJlbWFpbCI6ICJqYW5lZG9lQGV4YW1wbGUuY29tIiwKICJwaWN0dXJlIjogImh0dHA6Ly9leGFtcGxlLmNvbS9qYW5lZG9lL21lLmpwZyIKfQ.rHQjEmBqn9Jre0OLykYNnspA10Qql2rvx4FsD00jwlB0Sym4NzpgvPKsDjn_wMkHxcp6CilPcoKrWHcipR2iAjzLvDNAReF97zoJqq880ZD1bwY82JDauCXELVR9O6_B0w3K-E7yM2macAAgNCUwtik6SjoSUZRcf-O5lygIyLENx882p6MtmwaL1hd6qn5RZOQ0TLrOYu0532g9Exxcm-ChymrB4xLykpDj3lUivJt63eEGGN6DH5K6o33TcxkIjNrCD4XB1CKKumZvCedgHHF3IAK4dVEDSUoGlH9z4pP_eWYNXvqQOjGs-rDaQzUHl6cQQWNiDpWOl_lxXjQEvQ"},updated_at:"2020-01-01T12:43:29+0000",auth_time:"2020-02-17T21:23:39+0000"}}},t.state={selected:{continue:"on",interaction:["interaction_url","callback_server_nonce"],access_token:"off",handles:[],capabilities:"off",subject:"off"}},t.change=function(e){return function(n){if("all"!==e){var a=t.state.selected;t.codeValues[e]&&("checkbox"===t.codeValues[e].type&&-1!==n.indexOf("omit")?a[e]=[]:a[e]=n),"handle"===e&&"off"===n&&(a.access_token="single",a.interaction="off"),"interaction"===e&&"off"!==n&&(a.handle="on"),t.setState({selected:a})}else Object.keys(t.state.selected).forEach((function(e){t.change(e)(n)}))}},t.render=function(){var e=Object.keys(t.codeValues).reduce((function(e,n){"checkbox"===t.codeValues[n].type?t.state.selected[n].length>0&&(e=m({},e,Object.keys(t.codeValues[n]).filter((function(e){return-1!==t.state.selected[n].indexOf(e)})).reduce((function(e,a){return e[a]=t.codeValues[n][a],e}),{}))):"access_token"===n?e=m({},e,t.codeValues[n][t.state.selected[n]]):e[n]=t.codeValues[n][t.state.selected[n]];return e}),{}),n=m({},e),a=Object.keys(t.codeValues).map((function(e){return o.a.createElement(l.a,{onChange:t.change(e),label:t.codeValues[e].label,selected:t.state.selected[e],options:t.codeValues[e].options,type:t.codeValues[e].type})}));return o.a.createElement("div",null,o.a.createElement(u.a,null,a),o.a.createElement(s.a,{from:"as",to:"client",code:n}))},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(o.a.Component),h=n("vrFN");n.d(t,"default",(function(){return b})),n.d(t,"_frontmatter",(function(){return g}));var f={},b=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).layout=r.a,n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.components,n=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["components"]);return o.a.createElement(i.MDXTag,{name:"wrapper",Layout:this.layout,layoutProps:Object.assign({},f,n),components:t},o.a.createElement(h.a,{title:"Transaction Response",keywords:["oauth","authorization","security"]}),o.a.createElement(i.MDXTag,{name:"h1",components:t},"Grant Response"),o.a.createElement(i.MDXTag,{name:"p",components:t},"The response from the grant endpoint tells the client what it needs to do next, including if it needs to ",o.a.createElement(c.Link,{to:"/interaction"},"interact with the user")," and any ",o.a.createElement(c.Link,{to:"/tokens"},"tokens that have been issued"),". "),o.a.createElement(i.MDXTag,{name:"p",components:t},"If the transaction can be continued by the client, the AS includes a ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"continue")," handle in the response as well. This handle is used by the client for any subsequent references to this transaction. "),o.a.createElement(i.MDXTag,{name:"p",components:t},"The response can also include handles that the client can use in future transactions in lieu of any of the request sections."),o.a.createElement(d,null),o.a.createElement(i.MDXTag,{name:"p",components:t},"Each of these sections is detailed below."),o.a.createElement(i.MDXTag,{name:"h2",components:t},"Interaction"),o.a.createElement(i.MDXTag,{name:"p",components:t},"Foremost, the AS needs to tell the client what to do next. If the user needs to interact with the AS, it will indicate how the user can do that as described in the ",o.a.createElement(c.Link,{to:"/interaction"},"interaction section"),", which could include waiting until polling again."),o.a.createElement(i.MDXTag,{name:"h2",components:t},"Tokens and Subject"),o.a.createElement(i.MDXTag,{name:"p",components:t},"If the transaction is successful, the result could contain one or more ",o.a.createElement(c.Link,{to:"/tokens"},"access tokens")," for use at the resource server as well as some ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"subject")," data about the end user. "),o.a.createElement(i.MDXTag,{name:"p",components:t},"If a ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"subject")," section is returned by the AS, it contains information about the user currently logged in to the AS. This information should be minimal to avoid privacy and data consistency problems. "),o.a.createElement(i.MDXTag,{name:"h2",components:t},"Continuation"),o.a.createElement(i.MDXTag,{name:"p",components:t},"Both the interaction and poll-wait style responses require the the ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"continue")," response in order to continue. If a transaction handle is included with the access token response, the client can use this handle to get a new access token in the event the first one expires or is revoked, so long as the transaction handle is still valid. The ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"continue")," response also includes the URL at which the client needs to make its continuation requests, and can include information about how long the client should ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"wait")," before trying again."),o.a.createElement(i.MDXTag,{name:"p",components:t},"This ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"handle")," is used by the client to continue the transaction from its previous state. The value returned by the AS is unique, random, and not reused by the AS. That is to say, an ongoing transaction will be represented by a single handle at a given time, and that handle will change over time. This is used in the ",o.a.createElement(c.Link,{to:"/transactionrequest"},"continuation request"),". "),o.a.createElement(i.MDXTag,{name:"h2",components:t},"Dynamic Handles"),o.a.createElement(i.MDXTag,{name:"p",components:t},"Parts of the client's request can be assigned reference identifier handles by the AS so that the client can use these in future requests."),o.a.createElement(i.MDXTag,{name:"p",components:t},"If a ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"display_handle")," is returned by the AS, the client can use this handle in lieu of the information sent in the ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"display")," block in the request for future transactions. "),o.a.createElement(i.MDXTag,{name:"p",components:t},"If a ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"user_handle")," is returned by the AS, the client can use this handle in lieu of the ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"user")," portion of the transaction request to represent the same user in future requests, akin to UMA 2's PCT."),o.a.createElement(i.MDXTag,{name:"p",components:t},"If a ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"key_handle")," is returned by the AS, the client can use this handle in lieu of the ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"key")," section of the transaction request to reference the same key presented and proved by the client in this transaction. When presenting such key handles in a future request, the client must still ",o.a.createElement(c.Link,{to:"/keys"},"bind the request to the referenced key"),"."),o.a.createElement(i.MDXTag,{name:"h2",components:t},"Capabilities"),o.a.createElement(i.MDXTag,{name:"p",components:t},"If a ",o.a.createElement(i.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"capabilities")," section is sent by the client, the AS parses it and returns an array of all the capabilities that this AS can support for this transaction. This allows the client to dynamically self-configure for the transaction. "),o.a.createElement(i.MDXTag,{name:"blockquote",components:t},o.a.createElement(i.MDXTag,{name:"p",components:t,parentName:"blockquote"},"This piece is effectively a discovery response, but tied directly to the transaction endpoint. This means the client knows the AS as only its transaction endpoint URL and can get everything else it needs from there. ")))},a}(o.a.Component),g={}}}]);
//# sourceMappingURL=component---src-pages-transactionresponse-mdx-2ce7225d8df559c87d4a.js.map