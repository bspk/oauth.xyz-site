import { Link } from 'gatsby'

import SEO from '../components/seo'

<SEO title="Home" keywords={['oauth', 'authorization', 'security', 'xyz', 'gnap']} />

# What is XYZ?

XYZ is a set of implementations of the [Grant Negotiation Authorization Protocol (GNAP)](https://datatracker.ietf.org/doc/html/draft-ietf-gnap-core-protocol), a draft delegation protocol being developed in the spirit of OAuth 2, but designed with the decade of experience that we have now with OAuth 2 and its extensions. XYZ used to be the name of a proposed protocol that was published as an individual draft, but this proposal has been superseded by GNAP. The [GNAP Working Group](https://datatracker.ietf.org/wg/gnap/about/) is a working group of the IETF, and discussion is happening now on the [txauth@ietf.org](https://www.ietf.org/mailman/listinfo/txauth) mailing list and at the GNAP issue tracker for the [core protocol](https://github.com/ietf-wg-gnap/gnap-core-protocol/) and [resource server](https://github.com/ietf-wg-gnap/gnap-resource-servers/) documents from the working group.

This website contains a live playground of GNAP based on the XYZ implementations, seeking to explain GNAP in a more interactive way than is often possible with a standard document.

# What is GNAP?

GNAP is a delegation protocol for HTTP-based systems.

GNAP is ***not intended to be directly compatible with OAuth 2***, much in the same way that OAuth 2 was not directly compatible with OAuth 1. However, the concepts and many of the goals should feel familiar to developers used to these existing protocols and their extensions. Concepts from OAuth 2, OIDC, PKCE, UMA, CIBA, OBUK, FAPI, and a host of other extensions and profiles are being analyzed and adapted in the design of GNAP, but with a mind toward taking the best aspects of all of them and applying them in a consistent way. 

GNAP has several core features that drive its design principles, and these are key to providing a consistent data model:

 - Intent registration. This allows the client to start the process off the same way every time by making a <Link to="/request/">request to the authorization server</Link>.
 - Don't assume the user has a browser. Interaction needs to happen in a <Link to="/interaction/">variety of ways depending on the capabilities of the client</Link>, and only sometimes will a browser be involved.
 - Minimize the front channel. When a browser *is involved*, the protocol seeks to minimize the amount and kind of information that passes through the URLs of the front channel.
 - Polymorphic JSON. The protocol elements have different data types that convey additional contextual meaning, allowing us to avoid mutually exclusive protocol elements and design a more succinct and readable protocol. This lets us pass things by reference or by value using the same element field, among other things.
 - Key proofing and presentation. While OAuth 2 thrived on client secrets and bearer tokens, GNAP seeks to <Link to="/keys/">move beyond that at the base level</Link>, making use of a variety of security technologies.
 - Ease of transition from OAuth 2. Even though this is not backwards compatible, there should be a <Link to="/specs/">clear translation path from OAuth 2 based systems to GNAP</Link>.
 - Inline negotiation. Whenever possible, the protocol is designed such that <Link to="/discovery/">discovery and registration are not needed</Link>, but they can still be supported.

And most importantly, GNAP seeks to build out a protocol that **doesn't have the same assumptions as OAuth 2** by carefully examining and questioning all aspects of OAuth 2 and its extensions. Nothing is considered *sacred*, even as we build in a world already full of OAuth 2. This lets us question the utility of protocol elements like the `client_id` and figure out if and how they fit into the new world.

# Presentations and Materials

This website is intended to be a reasonably comprehensive collection of information about the XYZ project and GNAP. As GNAP grows and matures, more information will be available externally as well.

In addition to the website, Justin Richer has been fortunate to present XYZ and its concepts at a few different places so far. 

 - [Identiverse 2019, Transactional Authorization](https://www.youtube.com/watch?v=U9i7YaN8v9c)
 - [IETF 105 Montreal 2019, OAuth Working Group](https://www.youtube.com/watch?v=TE3Fzb5-Jz0&t=3764)
 - [IETF 106 Singapore, TXAuth BoF Meeting](https://www.youtube.com/watch?v=q096sY6L9-E)

Justin has also written a number of articles on the topic of XYZ, GNAP, and the choices behind the protocol design.

 - [Moving On from OAuth 2](https://medium.com/@justinsecurity/moving-on-from-oauth-2-629a00133ade)
 - [The Case for OAuth 3](https://medium.com/@justinsecurity/the-case-for-oauth-3-0-5c7537e3f9c3)
 - [XYZ: Why?](https://medium.com/@justinsecurity/xyz-why-b855970fdd89)
 - [XYZ: Handles, Passing by Reference, and Polymorphic JSON](https://medium.com/@justinsecurity/xyz-handles-passing-by-reference-and-polymorphic-json-e1af8892f371)
 - [XYZ: Interaction](https://medium.com/@justinsecurity/xyz-interaction-a84091d2a8c8)
 - [XYZ: Compatibility with OAuth 2](https://medium.com/@justinsecurity/xyz-compatibility-with-oauth-2-f7b490be536d)
 - [XYZ: Cryptographic Binding and Agility](https://medium.com/@justinsecurity/xyz-cryptographic-binding-db367f6581e6)
 - [Filling in the GNAP](https://justinsecurity.medium.com/filling-in-the-gnap-a032453eaf8c)

Several others in the wider OAuth community have also provided some great discussions on XYZ, GNAP, and the concepts driving this new work.

 - [Transaction Authorization: Or why we need to re-think OAuth scopes](https://medium.com/oauth-2/transaction-authorization-or-why-we-need-to-re-think-oauth-scopes-2326e2038948)
 - [Adding Identity to XYZ](https://aaronparecki.com/2019/07/18/17/adding-identity-to-xyz)
 - [Managing authorization grants beyond OAuth 2](https://blog.fimbault.com/managing-authorization-grants-beyond-oauth-2)
 - [GNAP, the next generation of OAuth](https://fusionauth.io/blog/2021/01/07/gnap-next-gen-oauth/)

# Implementations

Protocol proposals without implementations are merely thought experiments, and XYZ has always sought to ground all of its ideas in trial implementations. To date there are several code bases that can be downloaded, examined, and tried out. These have changed as the protocol has changed, and will continue to do so as GNAP takes shape. As such, things might be quirky or in a somewhat unfinished, experimental state at any time.

 - [AS and Client in Java, with SPA in React](https://github.com/bspk/oauth.xyz-java)
 - [AS and Client in NodeJS](https://github.com/securekey/oauth-xyz-nodejs)
 - [Client in JavaScript for SPAs](https://github.com/interop-alliance/oauth-xyz-client-js)

If you have feedback for this website, please see [its repository](https://github.com/bspk/oauth.xyz-site) or [get in touch directly](https://bspk.io/contact/).
