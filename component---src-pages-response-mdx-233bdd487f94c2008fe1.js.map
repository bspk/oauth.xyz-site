{"version":3,"sources":["webpack://oauth.xyz/./src/pages/response.mdx","webpack://oauth.xyz/./src/components/header.js","webpack://oauth.xyz/./src/components/layout.js"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","title","keywords","to","parentName","code","interact","continue","access_token","value","bound","uri","wait","access","type","actions","locations","datatypes","label","subject","updated_at","assertions","auth_time","instance_id","user_handle","isMDXComponent","menuLinks","name","link","location","className","style","margin","color","textDecoration","src","alt","map","class","children","maxWidth","padding","paddingTop"],"mappings":"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","file":"component---src-pages-response-mdx-233bdd487f94c2008fe1.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/jricher/Projects/oauth.xyz-site/src/components/layout.js\";\nimport { Link } from 'gatsby';\nimport Response from '../components/response';\nimport SEO from '../components/seo';\nimport Code from '../components/code';\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n\n    <SEO title=\"Response\" keywords={['oauth', 'authorization', 'security']} mdxType=\"SEO\" />\n    <h1>{`Response`}</h1>\n    <p>{`When the client instance makes its `}<Link to=\"/request\" mdxType=\"Link\">{`initial request`}</Link>{` or a `}<Link to=\"/continue\" mdxType=\"Link\">{`continuation request`}</Link>{`, the AS responds with a JSON structure that contains details about what the client instance can do next. This includes some combination of the following: `}</p>\n    <ul>\n      <li parentName=\"ul\">{`details needed for `}<Link to=\"/interaction\" mdxType=\"Link\">{`interacting with the user`}</Link></li>\n      <li parentName=\"ul\">{`any `}<Link to=\"/tokens\" mdxType=\"Link\">{`tokens that have been issued`}</Link>{` for use at an RS`}</li>\n      <li parentName=\"ul\">{`any information about the user`}</li>\n      <li parentName=\"ul\">{`details needed to `}<Link to=\"/continue\" mdxType=\"Link\">{`continue the request`}</Link></li>\n      <li parentName=\"ul\">{`Reference identifiers for the client instance and the current user, which can be used in future requests`}</li>\n    </ul>\n    <Response mdxType=\"Response\" />\n    <p>{`Each of these sections is detailed below.`}</p>\n    <h2>{`Interaction`}</h2>\n    <p>{`If the AS decides that it needs to interact with the end user, and the client has provided one or more means for facilitating interaction with the user, the AS includes an `}<inlineCode parentName=\"p\">{`interact`}</inlineCode>{` section that details what the client instance can do next. This can include a set of options to `}<inlineCode parentName=\"p\">{`start`}</inlineCode>{` the interaction process, a nonce used during the `}<inlineCode parentName=\"p\">{`finish`}</inlineCode>{` of the interaction process, and any other information the client instance might need. There are no inherent limitations on which combinations of `}<inlineCode parentName=\"p\">{`start`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`finish`}</inlineCode>{` methods are allowed together, but an AS will never respond with a method that the client instance did not indicate support for during its request.`}</p>\n    <Code code={{\n      interact: {\n        \"start\": {\n          \"redirect\": \"https://server.example.com/interact/4CF492MLVMSW9MKMXKHQ\"\n        },\n        \"finish\": \"MBDOFXG4Y5CVJCX821LH\"\n      }\n    }} mdxType=\"Code\" />\n    <h2>{`Continue`}</h2>\n    <p>{`If the AS wants to allow the client instance to make a follow-up `}<Link to=\"/continue\" mdxType=\"Link\">{`continuation request`}</Link>{`, it can return the necessary information in the `}<inlineCode parentName=\"p\">{`continue`}</inlineCode>{` section. This is used most prominently for managing `}<Link to=\"/interaction\" mdxType=\"Link\">{`interaction with the user`}</Link>{`, though continuation could be used in other circumstances such as requesting updated privileges from the AS or additional user information.`}</p>\n    <Code code={{\n      continue: {\n        access_token: {\n          value: \"80UPRY5NM33OMUKMKSKU\",\n          bound: true\n        },\n        uri: \"https://server.example.com/continue\",\n        wait: 60\n      }\n    }} mdxType=\"Code\" />\n    <p>{`The `}<inlineCode parentName=\"p\">{`continue`}</inlineCode>{` section contains an `}<Link to=\"/tokens\" mdxType=\"Link\">{`access token`}</Link>{` which is bound to the client instance's key as well as a `}<inlineCode parentName=\"p\">{`uri`}</inlineCode>{` that the client instance can use that access token at for making continuation requests. When the client instance makes these requests, it has to sign the request with the same key and method used to make the original request.`}</p>\n    <p>{`If the section contains a `}<inlineCode parentName=\"p\">{`wait`}</inlineCode>{` parameter, the client instance needs to wait at least that many seconds before trying to make the continuation call.`}</p>\n    <h2>{`Tokens`}</h2>\n    <p>{`If the request is successfully completed and the client instance asked for one or more access tokens, these are returned in the `}<inlineCode parentName=\"p\">{`access_token`}</inlineCode>{` section. If the client instance asked for only one access token, only one token is returned as an object. `}</p>\n    <Code code={{\n      access_token: {\n        value: \"OS9M2PMHKUR64TB8N6BW7OZB8CDFONP219RP1LT0\",\n        access: [{\n          type: \"example.com/resource-set\",\n          actions: [\"read\", \"write\", \"dolphin\"],\n          locations: [\"https://server.example.net/\", \"https://resource.local/other\"],\n          datatypes: [\"metadata\", \"images\"]\n        }]\n      }\n    }} mdxType=\"Code\" />\n    <p>{`If the client asked for multiple access tokens, then all tokens are returned in an array of access token objects. `}</p>\n    <Code code={{\n      access_token: [{\n        label: \"token1\",\n        value: \"OS9M2PMHKUR64TB8N6BW7OZB8CDFONP219RP1LT0\",\n        access: [{\n          type: \"example.com/resource-set\",\n          actions: [\"read\", \"write\", \"dolphin\"],\n          locations: [\"https://server.example.net/\", \"https://resource.local/other\"],\n          datatypes: [\"metadata\", \"images\"]\n        }]\n      }, {\n        label: \"token2\",\n        value: \"UFGLO2FDAFG7VGZZPJ3IZEMN21EVU71FHCARP4J1\",\n        access: [{\n          type: \"example.com/another-api\",\n          actions: [\"foo\", \"bar\", \"dolphin\"],\n          locations: [\"https://resource.other/\"],\n          datatypes: [\"data\", \"pictures\"]\n        }]\n      }]\n    }} mdxType=\"Code\" />\n    <p>{`By default, access tokens are `}<inlineCode parentName=\"p\">{`bound`}</inlineCode>{` to the client instance's `}<Link to=\"/keys\" mdxType=\"Link\">{`key used during the initial request`}</Link>{`. When the client instance uses the access token at the RS, it has to sign that request using the same key in the same manner. A client instance can request a `}<inlineCode parentName=\"p\">{`bearer`}</inlineCode>{` access token which removes this requirement, but such behavior should be limited to applications where the risks of bearer tokens have been fully considered and weighed.`}</p>\n    <Code code={{\n      access_token: {\n        value: \"OS9M2PMHKUR64TB8N6BW7OZB8CDFONP219RP1LT0\",\n        access: [\"read\", \"write\", \"dolphin\"],\n        bound: false\n      }\n    }} mdxType=\"Code\" />\n    <p>{`Access token objects also contain an `}<inlineCode parentName=\"p\">{`access`}</inlineCode>{` array which describes the rights associated with the token. Just like in the request, these rights can be described either by value (using JSON objects) or by reference (using JSON strings). While it is up to the RS to interpret and enforce such rights, the values in the `}<inlineCode parentName=\"p\">{`access`}</inlineCode>{` array can be useful for a client figuring out whether its tokens are good for what it needs to do, or if it needs to ask for something more.`}</p>\n    <h2>{`Subject`}</h2>\n    <p>{`If the request is successfully completed and the client instance asked for information about the current user, this information is returned in the `}<inlineCode parentName=\"p\">{`subject`}</inlineCode>{` section. This information reflects identifiers and assertions associated with the user as known by the AS, usually by having the user interact with the AS as part of the process. The `}<inlineCode parentName=\"p\">{`subject`}</inlineCode>{` field will usually contain an `}<inlineCode parentName=\"p\">{`updated_at`}</inlineCode>{` parameter which indicates the last time the user's account information was updated at the AS.`}</p>\n    <Code code={{\n      subject: {\n        \"sub_ids\": [{\n          \"format\": \"opaque\",\n          \"id\": \"J2G8G8O4AZ\"\n        }],\n        updated_at: '2020-01-01T12:43:29+0000'\n      }\n    }} mdxType=\"Code\" />\n    <p>{`If there are multiple pieces of information in this section, the client instance can assume that they all refer to the same person. This information should be minimal to avoid privacy and data consistency problems. `}</p>\n    <Code code={{\n      subject: {\n        \"sub_ids\": [{\n          \"format\": \"opaque\",\n          \"id\": \"J2G8G8O4AZ\"\n        }, {\n          \"format\": \"email\",\n          \"email\": \"user@example.com\"\n        }],\n        assertions: {\n          \"id_token\": \"eyJraWQiOiIxZTlnZGs3IiwiYWxnIjoiUlMyNTYifQ.ewogImlzcyI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ4Mjg5NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiAibi0wUzZfV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDEzMTEyODA5NzAsCiAibmFtZSI6ICJKYW5lIERvZSIsCiAiZ2l2ZW5fbmFtZSI6ICJKYW5lIiwKICJmYW1pbHlfbmFtZSI6ICJEb2UiLAogImdlbmRlciI6ICJmZW1hbGUiLAogImJpcnRoZGF0ZSI6ICIwMDAwLTEwLTMxIiwKICJlbWFpbCI6ICJqYW5lZG9lQGV4YW1wbGUuY29tIiwKICJwaWN0dXJlIjogImh0dHA6Ly9leGFtcGxlLmNvbS9qYW5lZG9lL21lLmpwZyIKfQ.rHQjEmBqn9Jre0OLykYNnspA10Qql2rvx4FsD00jwlB0Sym4NzpgvPKsDjn_wMkHxcp6CilPcoKrWHcipR2iAjzLvDNAReF97zoJqq880ZD1bwY82JDauCXELVR9O6_B0w3K-E7yM2macAAgNCUwtik6SjoSUZRcf-O5lygIyLENx882p6MtmwaL1hd6qn5RZOQ0TLrOYu0532g9Exxcm-ChymrB4xLykpDj3lUivJt63eEGGN6DH5K6o33TcxkIjNrCD4XB1CKKumZvCedgHHF3IAK4dVEDSUoGlH9z4pP_eWYNXvqQOjGs-rDaQzUHl6cQQWNiDpWOl_lxXjQEvQ\"\n        },\n        updated_at: '2020-01-01T12:43:29+0000',\n        auth_time: '2020-02-17T21:23:39+0000'\n      }\n    }} mdxType=\"Code\" />\n    <h2>{`Dynamic Identifiers`}</h2>\n    <p>{`Parts of the request can be assigned reference identifiers by the AS so that the client instance can use these in future requests.`}</p>\n    <p>{`If an `}<inlineCode parentName=\"p\">{`instance_id`}</inlineCode>{` is returned by the AS, the client can use this handle in lieu of the information sent in the `}<inlineCode parentName=\"p\">{`client`}</inlineCode>{` block in the request for future requests. `}</p>\n    <p>{`If a `}<inlineCode parentName=\"p\">{`user_handle`}</inlineCode>{` is returned by the AS, the client can use this handle in lieu of the `}<inlineCode parentName=\"p\">{`user`}</inlineCode>{` portion of the transaction request to represent the same user in future requests, akin to UMA 2's PCT.`}</p>\n    <Code code={{\n      instance_id: '7C7C4A-Z9KHRS-6X63AJAO',\n      user_handle: '9O6_B0w3K-E7yM2m'\n    }} mdxType=\"Code\" />\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import { Link, graphql } from 'gatsby'\nimport { Location } from '@reach/router';\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\nconst menuLinks = [\n      {\n        name: 'Request',\n        link: '/request/'\n      },\n      {\n        name: 'Continue',\n        link: '/continue/'\n      },\n      {\n        name: 'Response',\n        link: '/response/'\n      },\n      {\n        name: 'Interaction',\n        link: '/interaction/'\n      },\n      {\n        name: 'Keys',\n        link: '/keys/'\n      },\n      {\n        name: 'Tokens',\n        link: '/tokens/'\n      },\n      {\n        name: 'Discovery',\n        link: '/discovery/'\n      },\n      {\n        name: 'Other Specs',\n        link: '/specs/'\n      },\n      {\n        name: 'About',\n        link: '/about/'\n      },\n]\n\nconst Header = ({ location }) => (\n  <div className=\"header\">\n    <div className=\"wrapper\">\n      <h1 style={{ margin: 0 }}>\n        <Link\n          to=\"/\"\n          style={{\n            color: 'white',\n            textDecoration: 'none',\n          }}\n        >\n          <img src=\"/xyz.png\" alt=\"XYZ\" className=\"logo\" />\n          XYZ: Implementing GNAP\n        </Link>\n      </h1>\n          <nav>\n            {\n              menuLinks.map(link =>\n                  <Link to={link.link}><span>&raquo;</span> {link.name}</Link>\n              )\n            }\n          </nav>\n    </div>\n    <div class=\"subnav\">\n            \n    </div>\n  </div>\n)\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './header'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './layout.css'\n\nconst Layout = ({ children }) => (\n      <>\n        <Header/>\n        <div\n          style={{\n            margin: '0 auto',\n            maxWidth: 960,\n            padding: '0px 1.0875rem 1.45rem',\n            paddingTop: 0,\n          }}\n        >\n          {children}\n        </div>\n      </>\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n"],"sourceRoot":""}